function onFrame(t){for(var i=0,e=items.length;i<e;i++)items[i].iterate(i);var o=(new Date).getTime();o-start>duration&&(start=o,items=[],startingPoint=new Point(getRandomInt(boundWidth,view.size.width-boundWidth),getRandomInt(boundWidth,view.size.height-boundWidth)),itemSize=getRandomInt(itemSize-4,itemSize+6),itemNumber=getRandomInt(itemNumber,itemNumber+400),speed=getRandomInt(.075,speed),itemHeight=itemSize/3,itemWidth=4*itemSize,itemHue-=hueDecrease,project.clear(),initBalls(),initBounds(),initText())}function initBounds(){leftBound=new Path.Rectangle({x:0,y:0,width:boundWidth,height:view.size.height,fillColor:boundColor}),topBound=new Path.Rectangle({x:0,y:0,width:view.size.width,height:boundWidth,fillColor:boundColor}),rightBound=new Path.Rectangle({x:view.size.width-boundWidth,y:0,width:boundWidth,height:view.size.height,fillColor:boundColor}),bottomBound=new Path.Rectangle({x:0,y:view.size.height-boundWidth,width:view.size.width,height:boundWidth,fillColor:boundColor}),leftBound.bringToFront(),rightBound.bringToFront(),topBound.bringToFront(),bottomBound.bringToFront()}function initBalls(){for(var t=0;t<itemNumber;t++){var i=startingPoint,e=new Point(view.size.width,view.size.height),o=Point.random(),n=e*o,h=n-i;ball=new Ball(i,h),items.push(ball)}}function initText(){var t=new PointText(new Point(view.center));t.fillColor="orange",t.fontFamily="Val",t.fontSize="140",t.position=view.center,t.justification="center",t.blendMode="negation",t.rotation="-8",t.content="RUFF & TUFF"}function itemColor(t){t.fillColor.saturation<=.4&&(t.fillColor.saturation=1),t.fillColor.saturation-=.1,t.fillColor.alpha<=.2&&(t.fillColor.alpha=1),t.fillColor.alpha-=.4}function changeVector(t){return t=t<0?-180-t:180-t}function getRandomInt(t,i){return Math.floor(Math.random()*(i-t+1))+t}var boundWidth=15,boundColor="white",itemSize=20,itemNumber=1200;itemHeight=itemSize/3,itemWidth=4*itemSize;var startingPoint=new Point(getRandomInt(boundWidth,view.size.width-boundWidth),getRandomInt(boundWidth,view.size.height-boundWidth)),itemHue=205,hueSpectrum=120,hueDecrease=20,speed=.15,duration=72e3;initText();var leftBound=new Path.Rectangle({x:0,y:0,width:boundWidth,height:view.size.height,fillColor:boundColor}),topBound=new Path.Rectangle({x:0,y:0,width:view.size.width,height:boundWidth,fillColor:boundColor}),rightBound=new Path.Rectangle({x:view.size.width-boundWidth,y:0,width:boundWidth,height:view.size.height,fillColor:boundColor}),bottomBound=new Path.Rectangle({x:0,y:view.size.height-boundWidth,width:view.size.width,height:boundWidth,fillColor:boundColor}),Ball=function(t,i){this.dampen=.4,this.gravity=3,this.bounce=-.6,this.vector=i;var e={hue:Math.random()*(itemHue-itemHue-hueSpectrum)+itemHue-hueSpectrum,saturation:1,brightness:.8,alpha:.9};this.item=new Path.Rectangle({position:t,width:itemWidth,height:itemHeight,fillColor:e,radius:4*itemSize,rotation:360*Math.random()+0})};Ball.prototype.iterate=function(t){if(this.item.position+=this.vector/(this.vector.length*speed),this.item.rotate(8),this.item.intersects(leftBound)||this.item.intersects(rightBound)?(this.vector.angle=changeVector(this.vector.angle),itemColor(this.item)):(this.item.intersects(topBound)||this.item.intersects(bottomBound))&&(this.vector.angle=-this.vector.angle,itemColor(this.item)),this.item.position.x<-100||this.item.position.x>view.size.width+100){items.splice(t,1);var i=startingPoint,e=new Point(view.size.width,view.size.height),o=Point.random(),n=e*o,h=n-i;ball=new Ball(i,h),items.push(ball)}};var items=[];initBalls(),initText();var start=(new Date).getTime();leftBound.bringToFront(),rightBound.bringToFront(),topBound.bringToFront(),bottomBound.bringToFront();